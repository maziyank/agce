<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <title>Global Cathastropic Events Dashboard</title>
  <meta name="description" content="" />
  <meta name="keywords" content="" />

  <link href="https://cdn.jsdelivr.net/npm/daisyui@2.6.4/dist/full.css" rel="stylesheet" type="text/css" />
  <link rel="stylesheet" href="css/rSlider.min.css" type="text/css">
  <link rel="stylesheet" href="css/style.css" type="text/css" />
  <link rel="icon" href="images/icon.svg" type="image/svg+xml">

</head>

<body data-theme="light">
  <div class="bg-base-100 h-screen">
    <div class="w-full border-b-2 border-black fixed top-0 left-0 header">
      <h1 class="uppercase text-xs font-bold pt-3 pb-3 pl-16">BAKHTIAR AMALUDIN <span
          class="font-normal text-white-600"> - STUDENT ID 31282237</span></h1>

      <a class="btn btn-circle absolute top-2 right-2 btn-xs cursor-pointer" href="https://github.com/maziyank"
        target="_blank">
        <svg id="logo" width="20" height="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"
          class="inline-block h-5 w-5 fill-current">
          <path
            d="M256,32C132.3,32,32,134.9,32,261.7c0,101.5,64.2,187.5,153.2,217.9a17.56,17.56,0,0,0,3.8.4c8.3,0,11.5-6.1,11.5-11.4,0-5.5-.2-19.9-.3-39.1a102.4,102.4,0,0,1-22.6,2.7c-43.1,0-52.9-33.5-52.9-33.5-10.2-26.5-24.9-33.6-24.9-33.6-19.5-13.7-.1-14.1,1.4-14.1h.1c22.5,2,34.3,23.8,34.3,23.8,11.2,19.6,26.2,25.1,39.6,25.1a63,63,0,0,0,25.6-6c2-14.8,7.8-24.9,14.2-30.7-49.7-5.8-102-25.5-102-113.5,0-25.1,8.7-45.6,23-61.6-2.3-5.8-10-29.2,2.2-60.8a18.64,18.64,0,0,1,5-.5c8.1,0,26.4,3.1,56.6,24.1a208.21,208.21,0,0,1,112.2,0c30.2-21,48.5-24.1,56.6-24.1a18.64,18.64,0,0,1,5,.5c12.2,31.6,4.5,55,2.2,60.8,14.3,16.1,23,36.6,23,61.6,0,88.2-52.4,107.6-102.3,113.3,8,7.1,15.2,21.1,15.2,42.5,0,30.7-.3,55.5-.3,63,0,5.4,3.1,11.5,11.4,11.5a19.35,19.35,0,0,0,4-.4C415.9,449.2,480,363.1,480,261.7,480,134.9,379.7,32,256,32Z">
          </path>
        </svg>
      </a>
    </div>

    <div class="flex w-full sm:flex-wrap md:flex-wrap">
      <div class="flex-none xl:w-1/3 lg:w-2/5 md:w-full sm:w-full h-auto p-16 sidenav overflow-y-auto">
        <h1 class="text-3xl font-bold">Atlas of Global Catastrophic Events</h1>
        <h2 class="text-xl mb-8 italic">...because we live in the world full of risks</h2>

        <div class="p-3 mb-8 rounded-md bg-base-300 opacity-75">
          <!-- <div class="text-gray-500 font-serif text-3xl ">“</div> -->
          <blockquote class="text-gray-900 font-serif text-md italic">
            We learn from every natural disaster. Whether it’s a fire or a flood, we learn something from it so we can
            respond to the next one better <b>(Malcolm Turnbull, 29th Prime Minister of Australia).</b>
          </blockquote>
        </div>
        <p class="narration indent-8">Natural disasters can occur at any time, anywhere and at any time, causing risks
          or dangers to human life, both property losses and human casualties. Therefore, understanding of disaster can
          be used to support the decision-making process
          regarding prevention and preparedness for future disasters.
        </p>


        <p class="narration indent-8">In the map, we can see that some countries often experience disasters and suffer
          substantial loss of life and
          infrastructures. The colour difference reflects the value of a particular variable for each country which can
          be the number of disaster events, the number of death tools, the number of people affected and financial
          damage losses. </p>
        <div class="btn-group mt-5 mb-1 items-center justify-center">
          <input onchange="fillMap()" name="matricSelect" type="radio" name="options" data-title="Occurence"
            data-field="Occurence" class="btn btn-xs btn-outline rounded-none" />
          <input onchange="fillMap()" name="matricSelect" type="radio" name="options" data-title="Death Toll"
            data-field="Total Deaths" class="btn btn-xs btn-outline rounded-none" checked />
          <input onchange="fillMap()" name="matricSelect" type="radio" name="options" data-title="People Affected"
            data-field="Total Affected" class="btn btn-xs btn-outline rounded-none" />
          <input onchange="fillMap()" name="matricSelect" type="radio" name="options" data-title="Damages Loss"
            data-field="Total Damages Adjusted" class="btn btn-xs btn-outline rounded-none" />
        </div>

        <div class="btn-group mt-1 mb-4 items-center justify-center w-full" id="AvgOrTotalGroup">
          <input onchange="fillMap()" name="AvgOrTotal" type="radio" name="options" data-title="Show as Total"
            data-field="total" class="btn btn-xs btn-outline rounded-none" checked/>
          <input onchange="fillMap()" name="AvgOrTotal" type="radio" name="options" data-title="Show as Average / Occurence"
            data-field="average" class="btn btn-xs btn-outline rounded-none" />
        </div>

        <h5 class="text-center font-bold text-sm" id="barChartTitle"></h5>
        <div id="rankChart" class="w-full h-auto"></div>

        
        <p class="text-sm italic text-center w-full mt-5">Data Source: <a class="link font-bold" href="https://www.emdat.be/" target="_blank">
          EMDAT-Database.</a></p> 
      </div>
      <div class="xl:flex-1 lg:flex-1 md:w-full sm:w-full md:flex-none md:p-10 h-screen relative">
        <svg id="map"></svg>

        <div class="xl:w-1/5 lg:w-1/5 md:w-2/5 sm:w-3/5 ml-10 fixed right-10 bottom-5 z-9999">
          <div class="mt-10 mb-5 items-center justify-center">
            <input type="text" id="yearSlider" />
          </div>
        </div>
        <div id="legend1" class="absolute bottom-10 left-5"></div>

        <div class="absolute lg:w-48 xl:w-64 md:w-24 sm:w-24 left-5 top-20">
          <p class="font-semibold text-md text-gray-500 italic" id="mapTitle">Map Title</p>
        </div>

        <div class="w-auto absolute right-5 top-20">
          <p class="w-full text-xs font-bold">Select Disaster Type:</p>
          <div class="tooltip" data-tip="Storm">
            <label class="swap swap-flip">
              <input type="checkbox" data-label="Storm" checked onchange="globalFilterDisaster(this)" />
              <img class="swap-on fill-current w-10 h-10" src="images/storm.svg"></img>
              <img class="swap-off fill-current w-10 h-10 grayscale opacity-25" src="images/storm.svg"></img>
            </label>
          </div>


          <div class="tooltip" data-tip="Volcanic Activity">
            <label class="swap swap-flip">
              <input type="checkbox" data-label="Volcanic activity" checked onchange="globalFilterDisaster(this)" />
              <img class="swap-on fill-current w-10 h-10" src="images/volcano.svg"></img>
              <img class="swap-off fill-current w-10 h-10 grayscale opacity-25" src="images/volcano.svg"></img>
            </label>
          </div>
          <div class="tooltip" data-tip="Flood">
            <label class="swap swap-flip">
              <input type="checkbox" data-label="Flood" checked onchange="globalFilterDisaster(this)" />
              <img class="swap-on fill-current w-10 h-10" src="images/flood.svg"></img>
              <img class="swap-off fill-current w-10 h-10 grayscale opacity-25" src="images/flood.svg"></img>
            </label>
          </div>
          <div class="tooltip" data-tip="Eartquake">
            <label class="swap swap-flip">
              <input type="checkbox" data-label="Earthquake" checked onchange="globalFilterDisaster(this)" />
              <img class="swap-on fill-current w-10 h-10" src="images/earthquake.svg"></img>
              <img class="swap-off fill-current w-10 h-10 grayscale opacity-25" src="images/earthquake.svg"></img>
            </label>
          </div>
          <div class="tooltip" data-tip="Drought">
            <label class="swap swap-flip">
              <input type="checkbox" data-label="Drought" checked onchange="globalFilterDisaster(this)" />
              <img class="swap-on fill-current w-10 h-10" src="images/drought.svg"></img>
              <img class="swap-off fill-current w-10 h-10 grayscale opacity-25" src="images/drought.svg"></img>
            </label>
          </div>

          <div class="tooltip" data-tip="Landslide">
            <label class="swap swap-flip">
              <input type="checkbox" data-label="Landslide" checked onchange="globalFilterDisaster(this)" />
              <img class="swap-on fill-current w-10 h-10" src="images/landslide.svg"></img>
              <img class="swap-off fill-current w-10 h-10 grayscale opacity-25" src="images/landslide.svg"></img>
            </label>
          </div>

          <div class="tooltip" data-tip="Epidemic">
            <label class="swap swap-flip">
              <input type="checkbox" data-label="Epidemic" checked onchange="globalFilterDisaster(this)" />
              <img class="swap-on fill-current w-10 h-10" src="images/pandemic.svg"></img>
              <img class="swap-off fill-current w-10 h-10 grayscale opacity-25" src="images/pandemic.svg"></img>
            </label>
          </div>
          <div class="tooltip" data-tip="Extreme Temperature">

            <label class="swap swap-flip">
              <input type="checkbox" data-label="Extreme temperature " checked onchange="globalFilterDisaster(this)" />
              <img class="swap-on fill-current w-10 h-10" src="images/termo.svg"></img>
              <img class="swap-off fill-current w-10 h-10 grayscale opacity-25" src="images/termo.svg"></img>
            </label>
          </div>

          <div class="tooltip" data-tip="Other">

            <label class="swap swap-flip">
              <input type="checkbox" data-label="Other" checked onchange="globalFilterDisaster(this)" />
              <img class="swap-on fill-current w-10 h-10" src="images/other.svg"></img>
              <img class="swap-off fill-current w-10 h-10 grayscale opacity-25" src="images/other.svg"></img>
            </label>
          </div>
        </div>
        <div id="country-detail-modal" class="hidden fixed right-5 h-5/6 my-1 top-16 card w-2/5 shadow-xl bg-base-200">
          <label class="btn btn-xs btn-circle absolute right-2 top-2" onclick="unselectCountry()">✕</label>
          <div class="card-body w-full h-full p-4">
            <h4 class="text-2xl font-medium" id="detail-country-name">Country Name</h4>
            <div class="flex tabs w-full">
              <a id="tab-btn-1" onclick="changeTab(1)" class="flex-auto tab tab-lg tab-bordered tab-active">Summary</a>
              <a id="tab-btn-2" onclick="changeTab(2)" class="flex-auto tab tab-lg tab-bordered">20 Worst Disaster</a>
            </div>
            <div id="tab-content-2" class="p-2 tab-content h-full overflow-y-auto hidden">

              <div class="grid content-start w-full bg-gray-200 p-2 rounded-md mb-5">
                <p class="text-sm">This list showing 20 worst disaster for the period in this country. This is
                  sorted based on current active map color encoding. The title can be clicked to figure out more about
                  the event on google.</p>
              </div>

              <ol class="relative border-l border-gray-200 dark:border-gray-700" id="event-timeline">
                <li class="mb-10 ml-4">
                  <div
                    class="absolute w-5 h-5 bg-gray-200 rounded-full -left-2.5 border border-white dark:border-gray-900 dark:bg-gray-700">
                  </div>
                  <time class="mb-1 text-sm font-normal leading-none text-gray-400 dark:text-gray-500">{{date}}</time>
                  <h3 class="text-lg font-semibold dark:text-white">{{title}}</h3>
                  <p class="mb-4 text-base font-normal text-gray-500 dark:text-gray-400">{{description}}.</p>
                </li>
              </ol>
            </div>

            <div id="tab-content-1" class="p-2 tab-content h-full overflow-y-auto">
              <h5 class="text-md font-semibold my-2">Summary</h5>
              <div class="stats shadow-md flex items-stretch rounded-md">
                <div class="stat p-3 ">
                  <div class="stat-title">Occurence</div>
                  <div class="stat-value text-accent" id="stat-event">31K</div>
                  <!-- <div class="stat-desc">Disaster events</div> -->
                </div>
                <div class="stat p-3 ">
                  <div class="stat-title">Deaths</div>
                  <div class="stat-value text-warning" id="stat-deaths">31K</div>
                  <!-- <div class="stat-desc">Number of death toll</div> -->
                </div>

                <div class="stat p-3 ">
                  <div class="stat-title">Affected People</div>
                  <div class="stat-value text-secondary" id="stat-affected">42K</div>
                  <!-- <div class="stat-desc">Number of people affected</div> -->
                </div>
                <div class="stat p-3 ">
                  <div class="stat-title">Damage Loss</div>
                  <div class="stat-value text-info" id="stat-damage">22K</div>
                  <!-- <div class="stat-desc">Adjusted Damage Loss</div> -->
                </div>
              </div>

              <div class="divider"></div>
              <h5 class="text-md font-semibold my-2 ">Filter Disaster Type</h5>
              <div class="grid grid-cols-3 gap-1 content-start w-full bg-gray-100 p-2 rounded-md">
                <label class="label cursor-pointer p-0">
                  <input data-label="Flood" id="cb-flood" type="checkbox" onchange="countryFilterDisaster(this)"
                    checked="checked" class="checkbox cb-disaster mr-1 checkbox-sm" />
                  <span class="label-text text-left w-full">Flood</span>
                </label>
                <label class="label cursor-pointer p-0">
                  <input data-label="Storm" id="cb-storm" type="checkbox" onchange="countryFilterDisaster(this)"
                    checked="checked" class="checkbox cb-disaster mr-1 checkbox-sm" />
                  <span class="label-text text-left w-full">Storm</span>
                </label>
                <label class="label cursor-pointer p-0">
                  <input data-label="Earthquake" id="cb-earthquake" type="checkbox"
                    onchange="countryFilterDisaster(this)" checked="checked"
                    class="checkbox cb-disaster mr-1 checkbox-sm" />
                  <span class="label-text text-left w-full">Earthquake</span>
                </label>
                <label class="label cursor-pointer p-0">
                  <input data-label="Epidemic" id="cb-epidemic" type="checkbox" onchange="countryFilterDisaster(this)"
                    checked="checked" class="checkbox cb-disaster mr-1 checkbox-sm" />
                  <span class="label-text text-left w-full">Epidemic</span>
                </label>
                <label class="label cursor-pointer p-0">
                  <input data-label="Landslide" id="cb-landslide" type="checkbox" onchange="countryFilterDisaster(this)"
                    checked="checked" class="checkbox cb-disaster mr-1 checkbox-sm" />
                  <span class="label-text text-left w-full">Landslide</span>
                </label>
                <label class="label cursor-pointer p-0">
                  <input data-label="Drought" id="cb-drought" type="checkbox" onchange="countryFilterDisaster(this)"
                    checked="checked" class="checkbox cb-disaster mr-1 checkbox-sm" />
                  <span class="label-text text-left w-full">Drought</span>
                </label>
                <label class="label cursor-pointer p-0">
                  <input data-label="Extreme temperature " id="cb-extreme" type="checkbox"
                    onchange="countryFilterDisaster(this)" checked="checked"
                    class="checkbox cb-disaster mr-1 checkbox-sm" />
                  <span class="label-text text-left w-full">Extreme temperature</span>
                </label>
                <label class="label cursor-pointer p-0">
                  <input data-label="Volcanic activity" id="cb-volcanic" type="checkbox"
                    onchange="countryFilterDisaster(this)" checked="checked"
                    class="checkbox cb-disaster mr-1 checkbox-sm" />
                  <span class="label-text text-left w-full">Volcanic</span>
                </label>
                <label class="label cursor-pointer p-0">
                  <input data-label="Other" id="cb-other" type="checkbox" onchange="countryFilterDisaster(this)"
                    checked="checked" class="checkbox cb-disaster mr-1 checkbox-sm" />
                  <span class="label-text text-left w-full">Other</span>
                </label>
              </div>
              <div class="divider"></div>
              <div class="legend"></div>

              <h5 class="text-md font-semibold">Disaster Occurences</h5>
              <h6 class="text-sm mb-2">This chart shows the number of disaster events in certain period. Each color
                indicate different disaster type.</h6>
              <div class="card card-compact bg-base-200 rounded-md">
                <div class="card-body">
                  <div id="viz_occurence"></div>
                </div>
              </div>

              <h5 class="text-md font-semibold my-2">Deaths</h5>
              <h6 class="text-sm mb-2">This bar chart show the cumulative number of death tolls as the impact of
                disaster for this country over the period.</h6>
              <div class="card card-compact bg-base-200 rounded-md">
                <div class="card-body">
                  <div id="viz_death"></div>
                </div>
              </div>

              <h5 class="text-md font-semibold my-2">People Affected</h5>
              <h6 class="text-sm mb-2">This bar chart show the cumulative number of people affected as the impact of
                disaster for this country over the period.</h6>
              <div class="card card-compact bg-base-200 rounded-md">
                <div class="card-body">
                  <div id="viz_affected"></div>
                </div>
              </div>

              <h5 class="text-md font-semibold my-2">Damage Loss (USD)</h5>
              <h6 class="text-sm mb-2">This bar chart show the cumulative value of financial loss as the impact of
                disaster for this country over the period. The value is already adjusted to the current inflation rate.
              </h6>
              <div class="card card-compact bg-base-200 rounded-md">
                <div class="card-body">
                  <div id="viz_damage"></div>
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>

    </div>


  </div>

  <div id="overlay"><span class="loader"></span></div>
</body>

<!-- 3rd party scripts -->
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://d3js.org/d3.v5.min.js"></script>
<script src="scripts/rSlider.min.js"></script>


<!-- our script -->
<script src="scripts/map.js"></script>
<script src="scripts/stackedArea.js"></script>
<script src="scripts/stackedBar.js"></script>
<script src="scripts/barChart.js"></script>
<script src="scripts/legend.js"></script>
<script src="scripts/scripts.js"></script>

</html>